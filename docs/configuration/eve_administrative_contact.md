![SeAT](https://i.imgur.com/aPPOxSK.png)

# Eve API Administrative Contact

## What

Requests to the EVE API need to have an administrative contact email set before SeAT will queue jobs to process. CCP made the request in this [Github issue]. To address this, the email address is added to the User-Agent string that is used when making EVE API requests as can be seen [eveseat/eveapi:Helpers/PhealSetup#L77].

## Why

The error `Failed to queue due to default config` is generated by [eveseat/eveapi:Traits/JobManager#L47-L56] check. In order for this check to pass, you need to configure the administrative email address in the SeAT configuration.

## How

Adding the email address can be done in two ways. Wither via the command line or via the Web interface.

### Web interface

The other method to change the admin email is via the web interface. You need to be logged in with a user that has the `superuser` role. Typically, if the email address is not set, you may notice the following warning on the home page:

![seat default email warning](https://i.imgur.com/5NyqkX8.png)

To configure it, browse to *Configuration* -> *SeAT Settings* from the side menu, and set the email in the *Administrator Email* field.

![seat webui email config](https://i.imgur.com/F9MKvsw.png)

### Command line

The command `php artisan seat:admin:email` will prompt you to add a valid email address for the administrative contact:

Example:

![seat admin email](https://i.imgur.com/G1SZuZR.png)

[Github issue]: https://github.com/eveseat/seat/issues/77
[eveseat/eveapi:Traits/JobManager#L47-L56]: https://github.com/eveseat/eveapi/blob/master/src/Traits/JobManager.php#L47-L56
[eveseat/eveapi:Helpers/PhealSetup#L77]: https://github.com/eveseat/eveapi/blob/master/src/Helpers/PhealSetup.php#L77

## Required Action

After the email address has been updated, in order for this change to flow through to the SeAT workers they need to be restarted.

For Docker installation this is as simple as restarting the containers:
=== "Using Traefik"
    ```bash
    docker compose -f docker-compose.yml -f docker-compose.mariadb.yml -f docker-compose.traefik.yml restart
    ```

=== "Using proxy"
    ```bash
    docker compose -f docker-compose.yml -f docker-compose.mariadb.yml -f docker-compose.proxy.yml restart
    ```

For Blade installations supervisor should restart all jobs
```bash
supervisorctl restart all
```